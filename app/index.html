<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>SmashPop</title>
    <link rel="stylesheet" href="styles/main.css" type="text/css">
</head>
<body>
<script src="scripts/weasel.js"></script>
<script src="scripts/game.js"></script>
<script src="scripts/view.js"></script>
<script src="scripts/audio.js"></script>
<script>
    var gameView = new GameView();
</script>
<audio id="smashAudio_src" preload="auto" name="smash">
    <source src="audio/smash.ogg" type="audio/ogg">
    <source src="audio/smash.wav" type="audio/wav">
    <source src="audio/smash_.mp3" type="audio/mpeg">
</audio>
<div class="wrapper">
    <div class="titlebox">
        <div class="title">
            Whack-a-Monster
        </div>
        <div class="scoreboard">
            <div class="timeleft">
                <span class="label">Time: </span>
                <span class="value" id="time">60</span>
            </div>
            <div class="score">
                <span class="label">Score: </span>
                <span class="value" id="score">0000000</span>
            </div>
        </div>
    </div>
    <div id="startBox">
        <div class="instructions">
            <div class="keymap">
                <div class="key">&#8592;</div>
                <div class="keyvalue">Monster 1</div>
            </div>
            <div class="keymap">
                <div class="key">&#8593;</div>
                <div class="keyvalue">Monster 2</div>
            </div>
            <div class="keymap">
                <div class="key">&#8594;</div>
                <div class="keyvalue">Monster 3</div>
            </div>
            <div class="keymap">
                <div class="key">&#8595;</div>
                <div class="keyvalue">Monster 4</div>
            </div>
            <div class="keymap">
                <div class="key">Spacebar</div>
                <div class="keyvalue">Monster 5</div>
            </div>
        </div>
        <div class="start" onclick="gameView.start()">
            Start
        </div>
    </div>
    <div id="gameOverBox" class="hidden">
        <div class="gameOver">GAME OVER</div>
        <div class="finalScore">
            <span class="label">Final Score:</span>
            <span class="value" id="finalscore">0</span>
        </div>
        <div class="restart" onclick="gameView.restart()">
            Restart
        </div>
    </div>
    <div id="gameBoard" class="hidden">
    </div>
</div>
<script>
    window.addEventListener('mousedown', gameView.clickDetector.bind(gameView), false);
    window.addEventListener('keydown', gameView.whackDetector.bind(gameView), false);
    window.onload =
            gameView.initGame('score', 'time', 'startBox', 'gameBoard', 'gameOverBox', 'finalscore', 'smashAudio');
</script>
</body>
</html>